<ion-header>
  <ion-toolbar>
    <ion-title>
      Selección de Asientos
    </ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="dismiss()">Cerrar</ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <!-- Guía de colores -->
  <div class="seat-guide">
    <div class="guide-item">
      <div class="color-box plomo"></div>
      <span>Disponible</span>
    </div>
    <div class="guide-item">
      <div class="color-box verde"></div>
      <span>Seleccionado</span>
    </div>
    <div class="guide-item">
      <div class="color-box rojo"></div>
      <span>Reservado</span>
    </div>
    <div class="guide-item">
      <div class="color-box amarillo"></div>
      <span>VIP</span>
    </div>
  </div>

  <!-- Contenedor de asientos -->
  <div class="seats-container">
    <div class="row" *ngFor="let row of seatLayout; let rowIndex = index">
      <div
        *ngFor="let seat of row; let colIndex = index"
        [ngClass]="{'seat': seat, 'space': seat === null}"
        [ngStyle]="seat ? {'background-color': getSeatColor(seat), 'cursor': seat.status === 'disponible' ? 'pointer' : 'not-allowed'} : {}"
        (click)="seat && toggleSeat(rowIndex, colIndex)">
        {{ seat?.number }}
      </div>
    </div>
  </div>

  <ion-footer>
    <ion-button expand="full" (click)="confirmSelection()">Confirmar Selección</ion-button>
  </ion-footer>
</ion-content>
